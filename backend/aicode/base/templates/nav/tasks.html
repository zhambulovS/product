{% extends 'base.html' %}
{% block title %}–ó–∞–¥–∞—á–∏{% endblock %}

{% block content %}
<style>
    body {
        background-color: #1f1f1f;
        color: white;
        font-family: Arial, sans-serif;
        transition: background-color 0.3s, color 0.3s;
    }
    .light-mode {
        background-color: #faf3e0;
        color: black;
    }
    .nav-bar {
        text-align: center;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background: #2a2a2a;
    }
    .light-mode .nav-bar {
        background: #f5e6ca;
    }
    .nav-bar h1 {
        font-size: 20px; /* –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
        margin: 0; /* –£–¥–∞–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ –æ—Ç—Å—Ç—É–ø–∞ */
    }
    .toggle-mode {
        border: none;
        cursor: pointer;
        background: none;
        font-size: 20px;
        margin-left: 5px;
    }
    .task-list-container {
        max-width: 1100px;
        margin: auto;
        padding: 20px;
    }
    .task-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        background: #2a2a2a;
        border-radius: 8px;
        overflow: hidden;
    }
    .light-mode .task-table {
        background: #f5e6ca;
    }
    .task-table th, .task-table td {
        padding: 15px;
        text-align: left;
    }
    .task-table th {
        background: #3a3a3a;
    }
    .light-mode .task-table th {
        background: #e0d4b7;
    }
    .task-table tr:nth-child(even) {
        background: #323232;
    }
    .light-mode .task-table tr:nth-child(even) {
        background: #f0dfc5;
    }
    .difficulty-easy {
        color: #5cb85c;
    }
    .difficulty-medium {
        color: #f0ad4e;
    }
    .difficulty-hard {
        color: #d9534f;
    }
    .task-link {
        text-decoration: none;
        color: #ffffff;
    }
    .light-mode .task-link {
        color: #000000;
    }
    @media (max-width: 768px) {
    .nav-bar {
        padding: 10px;
    }

    .nav-bar h1 {
        font-size: 20px;
        margin: 0;
    }

    .toggle-mode {
        font-size: 20px;
        margin-left: 5px;
    }
}

</style>
</head>
<body>
<div class="nav-bar">
    <h1>–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</h1>
    <button class="toggle-mode" onclick="toggleMode()" id="theme-toggle-button">üåô</button>
</div>

<div class="task-list-container">
    <table class="task-table">
        <thead>
            <tr>
                <th>#</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–ü—Ä–∏–Ω—è—Ç–∏–µ</th>
                <th>–°–ª–æ–∂–Ω–æ—Å—Ç—å</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td><a href="/task/1" class="task-link">–î–≤–∞ —á–∏—Å–ª–∞</a></td>
                <td>55.2%</td>
                <td class="difficulty-easy">–õ–µ–≥–∫–æ</td>
            </tr>
            <tr>
                <td>2</td>
                <td><a href="/task/2" class="task-link">–°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª </a></td>
                <td>45.6%</td>
                <td class="difficulty-medium">–°—Ä–µ–¥–Ω–µ</td>
            </tr>
            <tr>
                <td>3</td>
                <td><a href="/task/3" class="task-link">–ü–æ–∏—Å–∫ –ø–∞–ª–∏–Ω–¥—Ä–æ–º–∞</a></td>
                <td>35.4%</td>
                <td class="difficulty-hard">–°–ª–æ–∂–Ω–æ</td>
            </tr>
        </tbody>
    </table>
</div>

<script>
    function toggleMode() {
        const body = document.body;
        const toggleButton = document.getElementById("theme-toggle-button");
        body.classList.toggle("light-mode");
        const isLightMode = body.classList.contains("light-mode");
        localStorage.setItem("theme", isLightMode ? "light" : "dark");
        toggleButton.textContent = isLightMode ? "üåû" : "üåô";
    }

    document.addEventListener("DOMContentLoaded", () => {
        const toggleButton = document.getElementById("theme-toggle-button");
        const isLightMode = localStorage.getItem("theme") === "light";
        if (isLightMode) {
            document.body.classList.add("light-mode");
        }
        toggleButton.textContent = isLightMode ? "üåû" : "üåô";
    });
</script>
{% endblock %}